Adding Custom Static Pages to Storybook DeploymentsI. IntroductionStorybook is a widely adopted tool for developing, testing, and documenting UI components in isolation.1 While primarily focused on component stories and documentation generated via addons like Storybook Docs 3, scenarios arise where developers need to include completely custom, standalone static HTML pages within their deployed Storybook instance, accessible via a unique URL path. This report details the recommended methodology for achieving this, focusing on configuration, the build process, deployment considerations, and potential alternatives.The primary and officially supported mechanism for incorporating custom static files, including HTML pages intended for unique URLs, into a Storybook build involves utilizing the staticDirs configuration option within the main Storybook configuration file (.storybook/main.js or .storybook/main.ts).4 This approach ensures that custom static content is correctly bundled during the Storybook build process and served alongside the core Storybook application.II. Understanding the staticDirs ConfigurationStorybook provides the staticDirs configuration key in .storybook/main.js (or .ts) specifically for instructing Storybook to serve static assets like images, fonts, and potentially custom HTML files.4 When the Storybook development server runs or when a static build is generated using build-storybook, the contents of the directories specified in staticDirs are made available to be served.Historically, the command-line flag -s or --static-dir was used for this purpose.8 However, this flag is now deprecated (since Storybook 6.4 and removed in v8) in favor of the staticDirs configuration in main.js.7 Using staticDirs is the current standard and recommended practice.9The staticDirs property accepts an array, allowing multiple static directories to be specified.4 There are two primary ways to define entries in this array: simple strings or configuration objects.4III. Recommended Method: staticDirs Object Configuration for Unique URLsTo achieve the goal of adding a custom static page at a specific, unique URL path within the deployed Storybook, the configuration object format within the staticDirs array is the most appropriate and flexible method.5A. The { from, to } Object SyntaxThis configuration allows precise control over where static files are sourced from and where they are served within the Storybook application's URL structure. The object has two key properties 4:
from: A string specifying the path (relative to the .storybook directory or absolute) to the directory containing your custom static files (e.g., your custom-page.html, associated CSS, images, etc.).
to: A string defining the public URL path under which the contents of the from directory should be served. This path is relative to the Storybook root URL.
Example Configuration:Consider a project structure where custom static content resides in a static-custom/info-page directory relative to the project root:my-project/
├──.storybook/
│   └── main.js
├── static-custom/
│   └── info-page/
│       ├── custom-page.html
│       ├── css/
│       │   └── styles.css
│       └── images/
│           └── logo.png
├── src/
│   └──...
└── package.json
To serve the contents of static-custom/info-page under the URL path /info, the staticDirs configuration in .storybook/main.js would be:JavaScript//.storybook/main.js
module.exports = {
  stories: ['../src/**/*.stories.mdx', '../src/**/*.stories.@(js|jsx|ts|tsx)'],
  addons: [/*... your addons... */],
  framework: '@storybook/react-webpack5', // Or your specific framework
  //... other configurations...
  staticDirs:,
};
B. Comparison with String ConfigurationWhile staticDirs also accepts simple strings (e.g., staticDirs: ['../public']), this method has a crucial difference in behavior:
String ('../public'): Copies the contents of the specified directory (../public) directly into the root of the Storybook build output (storybook-static/). Files within ../public (like favicon.ico) become accessible at the root URL (e.g., /favicon.ico). This approach "flattens" the specified directory's contents into the root serving path.13
Object ({ from: '../static-custom/info-page', to: '/info' }): Copies the contents of the from directory (../static-custom/info-page) into a subdirectory named info within the Storybook build output (storybook-static/info/). Files are then accessed relative to this to path (e.g., /info/custom-page.html).
The following table summarizes the key differences:Configuration TypeExampleBuild Output Location (storybook-static)Access URL Path (Example File: logo.png)Use CaseStringstaticDirs: ['../public']storybook-static/logo.png/logo.pngServing global assets (favicons, root images) from the root URL.Object ({ from, to })staticDirs: [{ from: '../my-assets', to: '/assets' }]storybook-static/assets/logo.png/assets/logo.pngServing specific asset sets or custom pages under a dedicated URL path.Object ({ from, to })staticDirs: [{ from: '../static-custom/info-page', to: '/info' }]storybook-static/info/logo.png/info/logo.pngServing a custom HTML page and its related assets under /info.Using the object configuration with the to property is therefore essential for creating a distinct URL namespace for the custom static page, preventing potential naming conflicts with Storybook's own files or other static assets served from the root.IV. How staticDirs Affects the Build OutputUnderstanding how Storybook processes the staticDirs configuration during the build phase (npm run build-storybook or yarn build-storybook) is crucial for managing asset paths correctly.A. The Build ProcessThe build-storybook command generates a static web application, typically placed in a directory named storybook-static.1 This directory contains all the necessary HTML, CSS, JavaScript, and asset files required to run the Storybook instance independently on any static web server.When staticDirs is configured, the build process performs a file copy operation:
For string entries (e.g., '../public'), the contents of the source directory are copied into the root of the storybook-static output directory.
For object entries (e.g., { from: '../static-custom/info-page', to: '/info' }), the contents of the from directory are copied into a subdirectory within storybook-static whose name matches the to path (stripping leading/trailing slashes if necessary).
B. Example Build Output StructureUsing the configuration example from Section III:JavaScript//.storybook/main.js
module.exports = {
  //... other config...
  staticDirs: [
    '../public', // Assume contains favicon.ico
    { from: '../static-custom/info-page', to: '/info' }, // Contains custom-page.html, css/, images/
  ],
};
The resulting storybook-static directory structure would look something like this:storybook-static/
├── favicon.ico       # Copied from../public
├── assets/           # Storybook's core assets
├── sb-addons/        # Storybook addon assets
├── sb-common-assets/ # Storybook common assets [20]
├── sb-manager/       # Storybook manager UI assets
├── index.html        # Storybook manager entry point
├── iframe.html       # Storybook preview iframe entry point
├── info/             # <<< Directory created based on 'to: /info'
│   ├── custom-page.html
│   ├── css/
│   │   └── styles.css
│   └── images/
│       └── logo.png
└──...               # Other Storybook generated files
C. Direct Mapping and Build IntegrityThe build process executes a direct copy of files from the designated from directory into the structure specified by the to path within the final output folder. This mechanism is straightforward and predictable. Storybook needs to assemble all its own files, story files, and any user-defined static assets into a cohesive, self-contained package suitable for static hosting. For staticDirs, a direct file copy is the simplest way to achieve this. The to property in the object configuration effectively directs the build process on where to create the target subdirectory within the output structure.This direct copy ensures that the internal relative paths within the custom static content remain valid relative to the custom page's location after being placed in the build output. For instance, if custom-page.html contains <img src="images/logo.png">, this path remains correct because the images directory is copied alongside custom-page.html into the storybook-static/info/ directory. Developers can thus rely on the build process preserving the internal structure of their from directory within the specified to path in the output. This greatly simplifies managing asset paths within the custom static content itself, as standard relative paths should generally function as expected post-copy.V. Deployment and Accessing Your PageOnce the Storybook build is complete, the resulting storybook-static directory needs to be deployed.A. Standard Static Site DeploymentThe storybook-static directory represents a standard static web application. It contains only HTML, CSS, JavaScript, and asset files, requiring no special server-side processing. Consequently, it can be deployed using any standard web server (like Nginx or Apache) or static hosting platform (such as Vercel, Netlify, GitHub Pages, AWS S3, etc.).1 The hosting provider's role is simply to serve the files from the deployed storybook-static directory based on the incoming URL request paths.B. Accessing the Custom Page URLThe URL required to access the custom static page depends on how Storybook is deployed (root vs. subdirectory) and the to path specified in the staticDirs configuration:
Root Deployment: If the storybook-static content is served from the root of a domain (e.g., https://my-storybook.com/), the custom page configured with { from: '../static-custom/info-page', to: '/info' } will be accessible at https://my-storybook.com/info/custom-page.html.
Subdirectory Deployment: If Storybook is deployed within a subdirectory of a domain (e.g., https://my-company.com/storybook/), the same custom page will typically be accessible at https://my-company.com/storybook/info/custom-page.html. The web server or hosting platform is responsible for routing requests starting with /storybook/ to the deployed storybook-static directory.
C. Handling Asset Paths within Custom HTMLA critical consideration, especially for subdirectory deployments, is how assets (CSS, images, scripts) are referenced within the custom HTML page itself (custom-page.html in our example).

Relative Paths (Recommended): Using relative paths is the most robust and portable approach. Since the build process copies the entire directory structure from the from path into the to path within storybook-static (as established in Section IV), relative links within the custom HTML should resolve correctly. For example, inside storybook-static/info/custom-page.html:

<link rel="stylesheet" href="css/styles.css"> correctly resolves to storybook-static/info/css/styles.css.
<img src="images/logo.png"> correctly resolves to storybook-static/info/images/logo.png.
This works seamlessly for both root and subdirectory deployments because the browser resolves these paths relative to the current document's location (/info/ or /storybook/info/).4



Absolute Paths (Problematic): Using absolute paths beginning with / within the custom HTML (e.g., <img src="/images/logo.png">) is highly problematic for subdirectory deployments.24 The browser interprets /images/logo.png as relative to the domain root. In a subdirectory deployment like https://my-company.com/storybook/, this would incorrectly request https://my-company.com/images/logo.png, leading to a 404 error, instead of the intended https://my-company.com/storybook/info/images/logo.png.


<base> Tag (Workaround/Hack): Some developers attempt to mitigate absolute path issues in subdirectories by inserting a <base> tag into the <head> of their custom HTML (e.g., <base href="/storybook/info/">).4 This tag instructs the browser to resolve relative URLs from the specified base. However, this approach has significant drawbacks:

It must be placed before any other elements with URL attributes (like <link href="...">) in the <head> to be effective.25 One user reported needing a post-build script (sed) to inject it correctly.25
It does not affect the resolution of absolute paths starting with /.24
It hardcodes the deployment subdirectory into the HTML, reducing portability.25
Due to its fragility, it's generally not recommended compared to using relative paths.



Webpack publicPath / Vite base (Related Concept): When deploying Storybook itself to a subdirectory, ensuring Storybook's own assets load correctly often requires configuring the build tool's public path setting. This is done via webpackFinal (for Webpack) or viteFinal (for Vite) in main.js, setting config.output.publicPath or config.base respectively to the subdirectory path (e.g., /storybook/).24 While crucial for Storybook's functionality in subdirectories, this configuration does not directly fix issues caused by using absolute paths within your custom static HTML.

The inherent complexity arises because web browsers resolve URLs based on standard rules: relative paths from the current document location, absolute paths from the domain root. Subdirectory deployments introduce a mismatch between the document's path within the subdirectory (e.g., /storybook/info/custom-page.html) and the domain root. Storybook's own assets require specific build configuration (publicPath/base) to handle this. Custom static pages served via staticDirs are subject to the same browser rules. Relative paths naturally adapt, while absolute paths break the context unless complex, often brittle, workarounds like build-time string replacement 24 or the <base> tag 25 are employed. Therefore, using relative paths within the custom static content is strongly advised, and deploying to the root domain significantly simplifies asset path management compared to subdirectory deployments.D. Platform-Specific Notes
Vercel: When deploying a Storybook project co-located with a framework Vercel recognizes (like Next.js), it's necessary to override Vercel's default build settings. Create a vercel.json file specifying the buildCommand as npm run build-storybook (or yarn build-storybook), and the outputDirectory as ./storybook-static.21
Netlify: For projects where the code lives in a subdirectory of the repository (monorepos), configure the "Base directory" in Netlify's build settings to point to that subdirectory. The "Publish directory" should then be set to storybook-static (relative to the base directory), and the "Build command" should be npm run build-storybook (or equivalent).18
GitHub Pages: Deployment often involves pushing the contents of the storybook-static directory to a gh-pages branch or a /docs folder in the main branch. Community-provided GitHub Actions, like Deploy Storybook to GitHub Pages Action 15, can automate this. The deprecated @storybook/storybook-deployer tool also offered this capability.23 Subdirectory path issues are frequently encountered with GitHub Pages deployments, reinforcing the need for careful path management, especially using relative paths or configuring publicPath/base if necessary.24
VI. Advanced Considerations and AlternativesWhile staticDirs is the primary method, it's important to understand its limitations and differentiate it from other Storybook features.A. Distinguishing from Other Features
preview-head.html / preview-body.html: These files are specifically designed to inject HTML content directly into the <head> or <body> of the Storybook preview iframe (iframe.html), where individual stories are rendered.4 They are used for adding global elements like custom fonts, tracking scripts, meta tags, or root mounting points that should apply to all stories. They cannot be used to create standalone pages with unique URLs.
MDX for Documentation: Storybook Docs, often utilized with MDX (Markdown with JSX), provides a powerful way to create rich documentation pages within the Storybook UI itself.3 These pages are integrated into the Storybook sidebar alongside component stories and can embed live story examples. This is an excellent alternative if the goal is integrated component documentation rather than a completely separate, standalone static page.
B. Interaction with Stories/Storybook UIA static HTML page added via staticDirs is fundamentally isolated from the main Storybook application (the manager UI running in index.html) and the story preview environment (running in iframe.html). By default, there is no built-in mechanism for this static page to interact with Storybook's APIs, control the currently displayed story, or react to Storybook events.Achieving such interaction would require significant custom development. It might involve embedding Storybook components or the entire Storybook application within the custom page using <iframe> tags 34 and implementing cross-frame communication using the window.postMessage API.36 Storybook internally uses postMessage for communication between its manager and preview frames.36 Leveraging this would be an advanced task, far beyond the simple static file serving provided by staticDirs.C. Security ConsiderationsThe staticDirs feature functions by copying and serving files from the specified directories without inherent analysis or sanitization of their content. This implies a level of trust in the files being served. If the content within a directory configured in staticDirs originates from untrusted sources or could be manipulated (e.g., through a vulnerability elsewhere in a build pipeline or application), serving it directly could introduce security risks.41Specifically, if malicious JavaScript were embedded in an HTML file within a static directory, navigating to that page via its unique Storybook URL could lead to Cross-Site Scripting (XSS) attacks. The malicious script would execute within the context of the Storybook application's domain, potentially allowing attackers to steal session information, perform actions on behalf of the user, or redirect users to phishing sites.42 While Storybook itself aims to be secure 45, and past vulnerabilities have been addressed 41, the staticDirs feature bypasses many framework-level security controls by serving raw HTML/JS.Therefore, it is crucial to only use staticDirs to serve trusted, internally developed static content or content that has undergone rigorous sanitization before being placed in the static directory. It is not suitable for serving arbitrary user-uploaded HTML files without implementing robust security measures upstream.D. Performance Considerations
Build Time: The impact of staticDirs on the build-storybook execution time is generally minimal. The primary operation is file copying. While copying a very large number of files or extremely large individual files will add some overhead, this is typically insignificant compared to the time spent on JavaScript bundling, code transpilation, and potentially documentation generation (docgen).46 Build performance is more heavily influenced by factors like docgen configuration (e.g., react-docgen-typescript vs react-docgen), the number of stories, and addon usage.46
Page Load Time: The assets included in the custom static page (large images, videos, complex CSS/JS) will directly affect the load time of that specific page when a user accesses its unique URL. This performance characteristic is independent of the core Storybook application's load time, unless the custom page's assets are somehow referenced globally (which is atypical for this use case). Standard web performance optimization techniques (image compression, code minification, etc.) should be applied to the assets within the custom static page directory.
E. Alternatives (Brief Mention)
Custom Build Script/Plugin: For scenarios requiring complex integration or file manipulation beyond what staticDirs offers, developers could create custom scripts that run after the build-storybook process completes, modifying the contents of the storybook-static directory. Alternatively, a custom Webpack plugin could be integrated via webpackFinal to hook into the build process itself.50 Both approaches add significant complexity and maintenance overhead compared to using the built-in staticDirs feature.
Separate Deployment: The simplest alternative is often to deploy the custom static page entirely separately from the Storybook instance, perhaps on a different subdomain or path managed by a distinct deployment process. This completely decouples the static page from Storybook's build and deployment lifecycle.
VII. ConclusionAdding a custom static HTML page with a unique URL to an existing Storybook deployment is most effectively achieved using the staticDirs configuration option within .storybook/main.js (or .ts). Specifically, employing the object configuration { from: 'path/to/your/static/content', to: '/your-desired-url-path' } provides the necessary control to map a source directory to a specific URL path within the deployed Storybook instance.The key steps involve:
Organizing the custom static HTML page and its associated assets (CSS, images, JS) into a dedicated source directory.
Configuring the staticDirs array in .storybook/main.js (or .ts) with an object specifying the from path (pointing to the source directory) and the to path (defining the desired URL segment).
Running the build-storybook command to generate the storybook-static output directory, which will include the custom content copied into the structure defined by the to path.
Deploying the entire storybook-static directory using a standard static web hosting provider or server.
Accessing the custom page via the URL formed by combining the Storybook base URL, the to path, and the HTML filename (e.g., https://your-storybook-url.com/your-desired-url-path/custom-page.html).
For optimal results and maintainability, it is strongly recommended to use relative paths for linking assets (CSS, images, scripts) within the custom HTML content. This ensures portability and avoids common issues encountered when deploying Storybook to subdirectories. Deploying Storybook to the root of a domain further simplifies path management compared to subdirectory deployments, which often require additional configuration (publicPath/base) and careful handling of asset references. Finally, ensure that any content served via staticDirs is trusted and properly secured to avoid potential XSS vulnerabilities.