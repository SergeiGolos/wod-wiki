---

kanban-plugin: board

---

## Backlog

- [ ] 2025-04-14T18:46:49 - Design a canonical state API for runtime block (e.g., getState)
- [ ] 2025-04-14T18:46:49 - Add tests for state transitions and button updates
- [ ] 2025-04-14T18:46:49 - Update UI to consume runtime state/buttons only
- [ ] 2025-04-14T18:46:49 - Refactor event handlers to use new state API
- [ ] 2025-04-14T18:46:49 - Centralize button logic in runtime (getAvailableButtons)
- [ ] 2025-04-14T18:46:49 - Refactor runtime block(s) to track and expose state explicitly
- [ ] ## Summary
	  This board tracks the tasks for documenting and repairing the system-level button event pipelines (run, pause, stop, reset) in wod.wiki. The initial focus is on mapping the current structure and identifying crosswiring issues.


## To Do

- [ ] 2025-04-14T18:46:49 - Analyze current runtime state generation and identify hacky or duplicated logic
- [ ] 2025-04-14T19:10:08 - Refactor UI components (RunnerControls, etc.) to use getState() as single source of truth for button rendering
- [ ] 2025-04-14T20:21:07 - Ensure stop events clear pause state and update runtime/UI accordingly
- [ ] 2025-04-14T20:21:07 - Refactor secondary ButtonRibbon to use buttons[] from runtime block


## In Progress

- [ ] 2025-04-14T19:14:26 - Refactor all UI/button components to use canonical runtime.current?.getState() for button rendering (RunnerControls, EditorContainer)


## Done

- [ ] 2025-04-14T19:07:15 - Implement canonical getState() method for RuntimeBlock and document logic ✅ 2025-04-14T19:10:08
- [ ] 2025-04-14T18:43:38 - Map the event pipeline for run/pause/stop/reset in both locations
- [ ] 2025-04-14T18:30:51 - Document the two main locations handling button events and describe their roles ✅ 2025-04-14T18:31:00
- [ ] 2025-04-14T18:30:51 - Summarize findings and identify areas of concern ✅ 2025-04-14T18:31:54
- [ ] 2025-04-14T18:33:07 - Diagram the flow and highlight logic overlaps or duplications ✅ 2025-04-14T18:43:38
- [ ] 2025-04-14T19:10:08 - Refactor all handler and editor state logic to use getState() (BeginHandler, TotalTimeHandler, LabelCurrentEffortHandler, EditorContainer) ✅ 2025-04-14T19:14:26
- [x] 2025-04-14T20:05:34 - Fixed StartHandler so timer transitions from idle to running and tick events update timer display


%% kanban:settings
{"kanban-plugin":"board"}
%%